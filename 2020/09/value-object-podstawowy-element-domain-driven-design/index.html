<!doctype html><html lang=pl dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Value Object – Podstawowy element Domain Driven Design - Grzegorz Stawarczyk - Blog poświęcony zagadnieniom programistycznym</title><meta name=keywords content="architektura,DDD,value object,Doctrine"><meta name=description content="Value Object to najważniejszy element Domain Drive Design. Dowiedz się jakie cechy ma poprawny Value Object i jak stosować go w praktyce."><meta name=author content="Grzegorz Stawarczyk"><link rel=canonical href=https://g-stawarczyk.github.io/2020/09/value-object-podstawowy-element-domain-driven-design/><meta name=google-site-verification content="kFJxTwwjJ6M960WTCNFl0Vy8dqYHTSTr2tME8-nMFSs"><link crossorigin=anonymous href=/assets/css/stylesheet.bccfefac377bc340f06c260aed1bddf49a4354816d7c570d6aac75a997986c95.css integrity="sha256-vM/vrDd7w0DwbCYK7Rvd9JpDVIFtfFcNaqx1qZeYbJU=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://g-stawarczyk.github.io/favicon.png><link rel=icon type=image/png sizes=16x16 href=https://g-stawarczyk.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://g-stawarczyk.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://g-stawarczyk.github.io/apple-touch-icon.png><link rel=mask-icon href=https://g-stawarczyk.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=pl href=https://g-stawarczyk.github.io/2020/09/value-object-podstawowy-element-domain-driven-design/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:locale" content="pl_PL"><meta property="og:title" content="Value Object – Podstawowy element Domain Driven Design - Grzegorz Stawarczyk - Blog poświęcony zagadnieniom programistycznym"><meta property="og:description" content="Value Object to najważniejszy element Domain Drive Design. Dowiedz się jakie cechy ma poprawny Value Object i jak stosować go w praktyce."><meta property="og:type" content="article"><meta property="og:url" content="https://g-stawarczyk.github.io/2020/09/value-object-podstawowy-element-domain-driven-design/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-09-26T00:00:00+00:00"><meta property="article:modified_time" content="2020-09-26T00:00:00+00:00"><meta property="og:site_name" content="Blog stawarczyk.pl"><meta name=twitter:card content="summary"><meta name=twitter:title content="Value Object – Podstawowy element Domain Driven Design"><meta name=twitter:description content="Value Object to najważniejszy element Domain Drive Design. Dowiedz się jakie cechy ma poprawny Value Object i jak stosować go w praktyce."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://g-stawarczyk.github.io/posts/"},{"@type":"ListItem","position":3,"name":"Value Object – Podstawowy element Domain Driven Design","item":"https://g-stawarczyk.github.io/2020/09/value-object-podstawowy-element-domain-driven-design/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Value Object – Podstawowy element Domain Driven Design","name":"Value Object – Podstawowy element Domain Driven Design","description":"Value Object to najważniejszy element Domain Drive Design. Dowiedz się jakie cechy ma poprawny Value Object i jak stosować go w praktyce.","keywords":["architektura","DDD","value object","Doctrine"],"articleBody":"Podczas programowania obiektowego bardzo często wykorzystujemy typy primitywne do przedstawienia jakiejś wartości. Przy tym bardzo często musimy zmierzyć się z przekazywaniem oraz modyfikacją tych wartości. Idąc dalej, chcemy mieć przecież poprawne dane, więc sprawdzamy ich poprawność dodając dodatkową logikę walidującą. A co w sytuacji, gdy daną wartość, która reprezentuje jakiś koncept, chcemy wykorzystać w więcej niż jednym miejscu? Duplikujemy logikę sprawdzania ich poprawności? Wybieramy specjalne miejsce aby utworzyć klasę walidacji, a może duplikujemy kod? Ciężki temat, szczególnie w późniejszym utrzymaniu, ale tutaj z pomocą przychodzi nam Value Object (obiekt wartości, wartość).\nCzym jest Value Object Value Object jest to prosty obiekt, który reprezentuje zmierzoną, wyliczoną lub opisaną wartość. Są to zazwyczaj bardzo małe obiekty takie jak zakres dat, pieniądz czy inne proste wartości jak identyfikator Encji. Jednak co ważne, w odróżnieniu od Encji, nie posiadają tożsamości.\nCzym jest tożsamość obiektu? W bardzo dużym skrócie jest to identyfikator, który nadajemy.\nMożemy sobie zadać pytanie, czy obiekt wartości w jednym projekcie może być bez problemu zawsze obiektem wartości w innym projekcie? Nie. Bardzo dobrym przykładem jest właśnie reprezentacja Pieniądza. Z jednej strony, dla większości dwa banknoty 10 zł są równe jeżeli ich nominały się zgadzają. Jednak dla Banku Centralnego bardzo ważną informacją jest numer seryjny banknotu. W takim przypadku nie będzie to już Obiekt Wartości a Encja.\nW powyższym przykładzie można zauważyć różnicę w porównywaniu Wartości oraz Encji. Obiekty wartości są równe, jeżeli ich zmierzone, wyliczone lub opisane wartości są równe. Encje zaś porównujemy za pomocą identyfikatorów.\nCharakterystyka Obiektów Wartości Mierzą, liczą lub opisują Jedna z podstawowych cech Value Object jest opisywanie, wyliczanie czy mierzenie wartości. Właśnie wartość to słowo klucz. Value Object nie jest rzeczą w domenie, a właśnie wartością. W podanym wcześniej przykładzie pieniądza, utworzony Value Object nie przedstawia pieniądza jako rzecz, a mierzy ilość określonej waluty. Szukając innych przykładów wartości możemy znaleźć Imię, Nazwisko lub Adres. Jednak zawsze musimy pamiętać, że wszystko zależy od kontekstu. W jednym systemie Adres może być Value Objectem, a w innym będzie musiał być Encją.\nNiezmienność i Side-Effect-Free Niezmienność (ang. Immutability), to kolejna ważna cecha wartości. Nie możemy dopuścić aby Value Object w swoim cyklu życia zmienił swój stan. Również musimy mieć na uwadze fakt, że obiekt ten musi być zawsze w poprawnym stanie.\nJak utworzyć taki obiekt, aby był niezmienny? Jednym z najprostszych sposobów jest możliwość tworzenia obiektów tylko przez konstruktor, a sam obiekt jest pozbawiony metod zmieniających stan.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 \u003c?php declare(strict_types=1); final class ValueObject { private string $value; public function __construct(string $value) { $this-\u003evalue = $value; } public function value(): string { return $this-\u003evalue; } } W prawdzie można tutaj zarzucić, że nie mamy tutaj w 100% zabezpieczenia przed zmianą stanu, bo przecież w PHP konstruktor może być odpalony kilka razy, a co za tym idzie? Wartość się zmieni\n1 2 3 4 5 6 $value = new ValueObject('foo'); var_dump($value-\u003evalue()); // foo $value-\u003e__construct('bar'); var_dump($value-\u003evalue()); // bar Umówmy się jednak, kto taki coś robi? Gdyby jednak ktoś chciał się przed tym zabezpieczyć, to jednym z dobrych rozwiązań jest wykorzystanie metody fabrycznej. Rozwiązanie jest bardzo proste i wystarczy zmienić publiczny konstruktor na prywatny i dodać statyczną metodę, która zwróci nową instancję obiektu.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 \u003c?php declare(strict_types=1); final class ValueObject { private string $value; private function __construct(string $value) { $this-\u003evalue = $value; } public static function fromString(string $value): self { return new self($value); } public function value(): string { return $this-\u003evalue; } } Teraz próbując utworzyć nowy obiekt za pomocą new otrzymamy ostrzeżenie:\n1 2 3 $value = new ValueObject('foo'); Warning: Uncaught Error: Call to private ValueObject::__construct() from invalid context in Jak wszyscy wiemy jedyną rzeczą stała w naszych systemach jest właśnie zmiana. Jeżeli mamy utrzymać nasz obiekt niezmiennym, jak w takim razie poradzić sobie z operacjami zmieniającymi stan. Tutaj również rozwiązanie jest bardzo proste -\u003e należy utworzyć nową instancję obiektu. Value Object nie może posiadać metod typu set. To wszystko oznacza, że nie zmieniasz wartości istniejącego już obiektu, tylko otrzymujesz nowy obiekt wartości.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 \u003c?php declare(strict_types=1); final class ValueObject { private int $value; public function __construct(int $value) { $this-\u003evalue = $value; } public function add(int $value): self { return new self($this-\u003evalue + $value); } public function value(): int { return $this-\u003evalue; } } Porównywalność wartości Value Objecty możemy jak każdy inny obiekt porównywać ze sobą. Musimy natomiast pamiętać, że równość wartości występuje wtedy, gdy wartości obu obiektów są takie same. Nie ma tutaj znaczenia, że jest to inna instancja klasy, ważne jest jaką wartość ze sobą niesie.\nIstnieje kilka sposobów porównywania wartości. Najprostszą, a zarazem najmniej polecaną jest użycie operatora przyrównania ==. Dwa obiekty będą równe jeżeli ich klasy oraz wartości są identyczne.\n1 2 3 4 5 6 7 8 9 10 11 $value1 = new ValueObject(10); $value2 = new ValueObject(10); var_dump($value1 == $value2); // true $value1 = new ValueObject(10); $value2 = new ValueObject(9); var_dump($value1 == $value2); // false Osobiście jednak nie jestem fanem porównania za pomocą == i gdy tylko widzę takie porównanie w legacy code, staram się je zmienić na operator identyczności ===. Operator ten jednak nie nadal się do porównywania obiektów, ponieważ aby obiekty były równe, muszą odnosić się do tego samego obiektu w pamięci.\n1 2 3 4 5 6 7 8 9 10 11 $value1 = new ValueObject(10); $value2 = new ValueObject(10); var_dump($value1 === $value2); // false $value1 = new ValueObject(10); $value2 = $value1; var_dump($value1 === $value2); // true Drugą i chyba najbardziej polecaną opcją na porównywanie wartości jest utworzenie dedykowanej metody, która porówna nam obiekty. Metodę taką implementujemy w Value Object i jako argument podajemy obiekt tej samej klasy. Sama metoda w sobie jest bardzo prosta, gdyż za pomocą operatora identyczności porównuje wartość aktualnego obiektu z wartością drugiego obiektu. Ważna uwaga, jeżeli nasz obiekt posiada więcej niż 1 wartość, należy porównać wszystkie wartości.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 \u003c?php declare(strict_types=1); final class ValueObject { private int $value; public function __construct(int $value) { $this-\u003evalue = $value; } public function equals(ValueObject $value): bool { return $this-\u003evalue === $value-\u003evalue(); } public function value(): int { return $this-\u003evalue; } } Istnieje jeszcze trzecia metoda, o której dobry programista nigdy nie powinien pomyśleć. Tam gdzie chcesz porównać Value Object’y, po prostu porównaj ich wartości if’em w każdym miejscu gdzie tego potrzebujesz. Chyba nie muszę mówić jak to wygląda i czym się ostatecznie zakończy? 🙂\nKoncept Whole Value Pattern Tak jak wspomniałem we wcześniejszym akapicie, obiekty wartości muszą być zawsze w poprawnym stanie. Stąd wartości powinny spełniać koncept Whole Value Pattern zdefiniowany przez Ward’a Cunningham’a w The checks Pattern Language of Information Integrity w 1994 roku. Aby zapewnić poprawny stan obiektu, podczas jego tworzenia należy sprawdzać wprowadzane wartości. Sprawdzanie to powinno odbywać się wewnątrz Value Object’u. Dlaczego robimy to wewnątrz obiektu? Wyobrażmy sobie sytuację, że nasz obiekt zawiera się w jakimś innym obiekcie, na przykład Encji. Zgodzisz się ze mną, że walidowanie czy Value Object posiada poprawny stan nie jest odpowiedzialnością Encji lub innej klasy. Narusza to przecież zasadę jednej odpowiedzialności (ang. Single Responibility Principle).\nTo Value Object or not to Value Object Mam nadzieję, że po przeczytaniu artykułu również tak jak ja, uważasz, że obiekty wartości są bardzo przydatne w modelowaniu Domeny. Rozwiązują one wiele problemów, przy czym są bardzo łatwe w implementacji oraz utrzymaniu. Dodatkowo w ściśle określonym kontekście każdy ekspert domenowy oraz programista dokładnie wie co oznacza przedstawiana wartość i jakie mamy wobec nich oczekiwania.\nDaj znać w komentarzach co sądzisz o Value Object’ach. Jeżeli masz jakieś ciekawe doświadczenia z obiektami wartości, z chęcią wymienię się doświadczeniem w komentarzach.\n","wordCount":"1299","inLanguage":"pl","datePublished":"2020-09-26T00:00:00Z","dateModified":"2020-09-26T00:00:00Z","author":{"@type":"Person","name":"Grzegorz Stawarczyk"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://g-stawarczyk.github.io/2020/09/value-object-podstawowy-element-domain-driven-design/"},"publisher":{"@type":"Organization","name":"Grzegorz Stawarczyk - Blog poświęcony zagadnieniom programistycznym","logo":{"@type":"ImageObject","url":"https://g-stawarczyk.github.io/favicon.png"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://g-stawarczyk.github.io accesskey=h title="Blog stawarczyk.pl (Alt + H)"><img src=https://g-stawarczyk.github.io/apple-touch-icon.png alt aria-label=logo height=35>Blog stawarczyk.pl</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://g-stawarczyk.github.io/en/ title=English aria-label=English>En</a></li></ul></div></div><ul id=menu><li><a href=https://g-stawarczyk.github.io/categories title=Kategorie><span>Kategorie</span></a></li><li><a href=https://g-stawarczyk.github.io/tags title=Tagi><span>Tagi</span></a></li><li><a href=https://g-stawarczyk.github.io/szukaj title=Szukaj><span>Szukaj</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://g-stawarczyk.github.io>Strona Główna</a>&nbsp;»&nbsp;<a href=https://g-stawarczyk.github.io/posts/>Posts</a></div><h1 class=post-title>Value Object – Podstawowy element Domain Driven Design</h1><div class=post-description>Value Object to najważniejszy element Domain Drive Design. Dowiedz się jakie cechy ma poprawny Value Object i jak stosować go w praktyce.</div><div class=post-meta><span title='2020-09-26 00:00:00 +0000 UTC'>września 26, 2020</span>&nbsp;·&nbsp;7 min&nbsp;·&nbsp;1299 words&nbsp;·&nbsp;Grzegorz Stawarczyk</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Spis treści</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#czym-jest-value-object>Czym jest Value Object</a></li><li><a href=#charakterystyka-obiektów-wartości>Charakterystyka Obiektów Wartości</a><ul><li><a href=#mierzą-liczą-lub-opisują>Mierzą, liczą lub opisują</a></li><li><a href=#niezmienność-i-side-effect-free>Niezmienność i Side-Effect-Free</a></li><li><a href=#porównywalność-wartości>Porównywalność wartości</a></li><li><a href=#koncept-whole-value-pattern>Koncept Whole Value Pattern</a></li></ul></li><li><a href=#to-value-object-or-not-to-value-object>To Value Object or not to Value Object</a></li></ul></nav></div></details></div><div class=post-content><p>Podczas programowania obiektowego bardzo często wykorzystujemy typy primitywne do przedstawienia jakiejś wartości. Przy tym bardzo często musimy zmierzyć się z przekazywaniem oraz modyfikacją tych wartości. Idąc dalej, chcemy mieć przecież poprawne dane, więc sprawdzamy ich poprawność dodając dodatkową logikę walidującą. A co w sytuacji, gdy daną wartość, która reprezentuje jakiś koncept, chcemy wykorzystać w więcej niż jednym miejscu? Duplikujemy logikę sprawdzania ich poprawności? Wybieramy specjalne miejsce aby utworzyć klasę walidacji, a może duplikujemy kod? Ciężki temat, szczególnie w późniejszym utrzymaniu, ale tutaj z pomocą przychodzi nam <strong>Value Object (obiekt wartości, wartość)</strong>.</p><h2 id=czym-jest-value-object>Czym jest Value Object<a hidden class=anchor aria-hidden=true href=#czym-jest-value-object>#</a></h2><p><strong>Value Object</strong> jest to prosty obiekt, który reprezentuje zmierzoną, wyliczoną lub opisaną wartość. Są to zazwyczaj bardzo małe obiekty takie jak zakres dat, pieniądz czy inne proste wartości jak identyfikator Encji. Jednak co ważne, w odróżnieniu od <strong>Encji</strong>, nie posiadają <strong>tożsamości</strong>.</p><p>Czym jest <strong>tożsamość</strong> obiektu? W bardzo dużym skrócie jest to identyfikator, który nadajemy.</p><p>Możemy sobie zadać pytanie, czy obiekt wartości w jednym projekcie może być bez problemu zawsze obiektem wartości w innym projekcie? Nie. Bardzo dobrym przykładem jest właśnie reprezentacja Pieniądza. Z jednej strony, dla większości dwa banknoty 10 zł są równe jeżeli ich nominały się zgadzają. Jednak dla Banku Centralnego bardzo ważną informacją jest numer seryjny banknotu. W takim przypadku nie będzie to już Obiekt Wartości a Encja.</p><p>W powyższym przykładzie można zauważyć różnicę w porównywaniu Wartości oraz Encji. <strong>Obiekty wartości są równe, jeżeli ich zmierzone, wyliczone lub opisane wartości są równe. Encje zaś porównujemy za pomocą identyfikatorów</strong>.</p><h2 id=charakterystyka-obiektów-wartości>Charakterystyka Obiektów Wartości<a hidden class=anchor aria-hidden=true href=#charakterystyka-obiektów-wartości>#</a></h2><h3 id=mierzą-liczą-lub-opisują>Mierzą, liczą lub opisują<a hidden class=anchor aria-hidden=true href=#mierzą-liczą-lub-opisują>#</a></h3><p>Jedna z podstawowych cech Value Object jest opisywanie, wyliczanie czy mierzenie wartości. Właśnie <strong>wartość to słowo klucz</strong>. Value Object nie jest rzeczą w domenie, a właśnie wartością. W podanym wcześniej przykładzie pieniądza, utworzony Value Object nie przedstawia pieniądza jako rzecz, a mierzy ilość określonej waluty. Szukając innych przykładów wartości możemy znaleźć <strong>Imię, Nazwisko lub Adres</strong>. Jednak zawsze musimy pamiętać, że wszystko zależy od kontekstu. W jednym systemie Adres może być Value Objectem, a w innym będzie musiał być Encją.</p><h3 id=niezmienność-i-side-effect-free>Niezmienność i Side-Effect-Free<a hidden class=anchor aria-hidden=true href=#niezmienność-i-side-effect-free>#</a></h3><p>Niezmienność (ang. Immutability), to kolejna ważna cecha wartości. Nie możemy dopuścić aby Value Object w swoim cyklu życia zmienił swój stan. Również musimy mieć na uwadze fakt, że obiekt ten musi być zawsze w poprawnym stanie.</p><p>Jak utworzyć taki obiekt, aby był niezmienny? Jednym z najprostszych sposobów jest możliwość tworzenia obiektów tylko przez konstruktor, a sam obiekt jest pozbawiony metod zmieniających stan.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=o>&lt;?</span><span class=nx>php</span> <span class=k>declare</span><span class=p>(</span><span class=nx>strict_types</span><span class=o>=</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>final</span> <span class=k>class</span> <span class=nc>ValueObject</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=nx>string</span> <span class=nv>$value</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=fm>__construct</span><span class=p>(</span><span class=nx>string</span> <span class=nv>$value</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>value</span> <span class=o>=</span> <span class=nv>$value</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>value</span><span class=p>()</span><span class=o>:</span> <span class=nx>string</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>value</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>W prawdzie można tutaj zarzucić, że nie mamy tutaj w 100% zabezpieczenia przed zmianą stanu, bo przecież w PHP konstruktor może być odpalony kilka razy, a co za tym idzie? Wartość się zmieni</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=nv>$value</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>ValueObject</span><span class=p>(</span><span class=s1>&#39;foo&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>var_dump</span><span class=p>(</span><span class=nv>$value</span><span class=o>-&gt;</span><span class=na>value</span><span class=p>());</span>
</span></span><span class=line><span class=cl><span class=c1>// foo
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nv>$value</span><span class=o>-&gt;</span><span class=na>__construct</span><span class=p>(</span><span class=s1>&#39;bar&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>var_dump</span><span class=p>(</span><span class=nv>$value</span><span class=o>-&gt;</span><span class=na>value</span><span class=p>());</span>
</span></span><span class=line><span class=cl><span class=c1>// bar
</span></span></span></code></pre></td></tr></table></div></div><p>Umówmy się jednak, kto taki coś robi? Gdyby jednak ktoś chciał się przed tym zabezpieczyć, to jednym z dobrych rozwiązań jest wykorzystanie <em>metody fabrycznej</em>. Rozwiązanie jest bardzo proste i wystarczy zmienić publiczny konstruktor na prywatny i dodać statyczną metodę, która zwróci nową instancję obiektu.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=o>&lt;?</span><span class=nx>php</span> <span class=k>declare</span><span class=p>(</span><span class=nx>strict_types</span><span class=o>=</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>final</span> <span class=k>class</span> <span class=nc>ValueObject</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=nx>string</span> <span class=nv>$value</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=k>function</span> <span class=fm>__construct</span><span class=p>(</span><span class=nx>string</span> <span class=nv>$value</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>value</span> <span class=o>=</span> <span class=nv>$value</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>static</span> <span class=k>function</span> <span class=nf>fromString</span><span class=p>(</span><span class=nx>string</span> <span class=nv>$value</span><span class=p>)</span><span class=o>:</span> <span class=nx>self</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>new</span> <span class=nx>self</span><span class=p>(</span><span class=nv>$value</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>value</span><span class=p>()</span><span class=o>:</span> <span class=nx>string</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>value</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Teraz próbując utworzyć nowy obiekt za pomocą new otrzymamy ostrzeżenie:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=nv>$value</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>ValueObject</span><span class=p>(</span><span class=s1>&#39;foo&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>Warning</span><span class=o>:</span> <span class=nx>Uncaught</span> <span class=nx>Error</span><span class=o>:</span> <span class=nx>Call</span> <span class=nx>to</span> <span class=k>private</span> <span class=nx>ValueObject</span><span class=o>::</span><span class=na>__construct</span><span class=p>()</span> <span class=nx>from</span> <span class=nx>invalid</span> <span class=nx>context</span> <span class=nx>in</span> 
</span></span></code></pre></td></tr></table></div></div><p>Jak wszyscy wiemy jedyną rzeczą stała w naszych systemach jest właśnie zmiana. Jeżeli mamy utrzymać nasz obiekt niezmiennym, jak w takim razie poradzić sobie z operacjami zmieniającymi stan. Tutaj również rozwiązanie jest bardzo proste -> należy utworzyć nową instancję obiektu. Value Object nie może posiadać metod typu set. To wszystko oznacza, że nie zmieniasz wartości istniejącego już obiektu, tylko otrzymujesz nowy obiekt wartości.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=o>&lt;?</span><span class=nx>php</span> <span class=k>declare</span><span class=p>(</span><span class=nx>strict_types</span><span class=o>=</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>final</span> <span class=k>class</span> <span class=nc>ValueObject</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=nx>int</span> <span class=nv>$value</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=fm>__construct</span><span class=p>(</span><span class=nx>int</span> <span class=nv>$value</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>value</span> <span class=o>=</span> <span class=nv>$value</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>add</span><span class=p>(</span><span class=nx>int</span> <span class=nv>$value</span><span class=p>)</span><span class=o>:</span> <span class=nx>self</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>new</span> <span class=nx>self</span><span class=p>(</span><span class=nv>$this</span><span class=o>-&gt;</span><span class=na>value</span> <span class=o>+</span> <span class=nv>$value</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>value</span><span class=p>()</span><span class=o>:</span> <span class=nx>int</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>value</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=porównywalność-wartości>Porównywalność wartości<a hidden class=anchor aria-hidden=true href=#porównywalność-wartości>#</a></h3><p>Value Objecty możemy jak każdy inny obiekt porównywać ze sobą. Musimy natomiast pamiętać, że równość wartości występuje wtedy, gdy wartości obu obiektów są takie same. Nie ma tutaj znaczenia, że jest to inna instancja klasy, ważne jest jaką wartość ze sobą niesie.</p><p>Istnieje kilka sposobów porównywania wartości. Najprostszą, a zarazem najmniej polecaną jest użycie operatora przyrównania <code>==</code>. Dwa obiekty będą równe jeżeli ich klasy oraz wartości są identyczne.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=nv>$value1</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>ValueObject</span><span class=p>(</span><span class=mi>10</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nv>$value2</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>ValueObject</span><span class=p>(</span><span class=mi>10</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>var_dump</span><span class=p>(</span><span class=nv>$value1</span> <span class=o>==</span> <span class=nv>$value2</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=c1>// true
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=nv>$value1</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>ValueObject</span><span class=p>(</span><span class=mi>10</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nv>$value2</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>ValueObject</span><span class=p>(</span><span class=mi>9</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>var_dump</span><span class=p>(</span><span class=nv>$value1</span> <span class=o>==</span> <span class=nv>$value2</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=c1>// false
</span></span></span></code></pre></td></tr></table></div></div><p>Osobiście jednak nie jestem fanem porównania za pomocą <code>==</code> i gdy tylko widzę takie porównanie w legacy code, staram się je zmienić na operator identyczności <code>===</code>. Operator ten jednak nie nadal się do porównywania obiektów, ponieważ aby obiekty były równe, muszą odnosić się do tego samego obiektu w pamięci.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=nv>$value1</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>ValueObject</span><span class=p>(</span><span class=mi>10</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nv>$value2</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>ValueObject</span><span class=p>(</span><span class=mi>10</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>var_dump</span><span class=p>(</span><span class=nv>$value1</span> <span class=o>===</span> <span class=nv>$value2</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=c1>// false
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=nv>$value1</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>ValueObject</span><span class=p>(</span><span class=mi>10</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nv>$value2</span> <span class=o>=</span> <span class=nv>$value1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>var_dump</span><span class=p>(</span><span class=nv>$value1</span> <span class=o>===</span> <span class=nv>$value2</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=c1>// true
</span></span></span></code></pre></td></tr></table></div></div><p>Drugą i chyba najbardziej polecaną opcją na porównywanie wartości jest utworzenie dedykowanej metody, która porówna nam obiekty. Metodę taką implementujemy w Value Object i jako argument podajemy obiekt tej samej klasy. Sama metoda w sobie jest bardzo prosta, gdyż za pomocą operatora identyczności porównuje wartość aktualnego obiektu z wartością drugiego obiektu. Ważna uwaga, jeżeli nasz obiekt posiada więcej niż 1 wartość, należy porównać wszystkie wartości.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=o>&lt;?</span><span class=nx>php</span> <span class=k>declare</span><span class=p>(</span><span class=nx>strict_types</span><span class=o>=</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>final</span> <span class=k>class</span> <span class=nc>ValueObject</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=nx>int</span> <span class=nv>$value</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=fm>__construct</span><span class=p>(</span><span class=nx>int</span> <span class=nv>$value</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>value</span> <span class=o>=</span> <span class=nv>$value</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>equals</span><span class=p>(</span><span class=nx>ValueObject</span> <span class=nv>$value</span><span class=p>)</span><span class=o>:</span> <span class=nx>bool</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>value</span> <span class=o>===</span> <span class=nv>$value</span><span class=o>-&gt;</span><span class=na>value</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>value</span><span class=p>()</span><span class=o>:</span> <span class=nx>int</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>value</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Istnieje jeszcze trzecia metoda, o której dobry programista nigdy nie powinien pomyśleć. Tam gdzie chcesz porównać Value Object’y, po prostu porównaj ich wartości if’em w każdym miejscu gdzie tego potrzebujesz. Chyba nie muszę mówić jak to wygląda i czym się ostatecznie zakończy? 🙂</p><h3 id=koncept-whole-value-pattern>Koncept Whole Value Pattern<a hidden class=anchor aria-hidden=true href=#koncept-whole-value-pattern>#</a></h3><p>Tak jak wspomniałem we wcześniejszym akapicie, obiekty wartości muszą być zawsze w poprawnym stanie. Stąd wartości powinny spełniać koncept Whole Value Pattern zdefiniowany przez Ward’a Cunningham’a w <em><a href=http://c2.com/ppr/checks.html>The checks Pattern Language of Information Integrity</a></em> w 1994 roku. Aby zapewnić poprawny stan obiektu, podczas jego tworzenia należy sprawdzać wprowadzane wartości. Sprawdzanie to powinno odbywać się wewnątrz Value Object’u. Dlaczego robimy to wewnątrz obiektu? Wyobrażmy sobie sytuację, że nasz obiekt zawiera się w jakimś innym obiekcie, na przykład Encji. Zgodzisz się ze mną, że walidowanie czy Value Object posiada poprawny stan nie jest odpowiedzialnością Encji lub innej klasy. Narusza to przecież zasadę jednej odpowiedzialności (ang. Single Responibility Principle).</p><h2 id=to-value-object-or-not-to-value-object>To Value Object or not to Value Object<a hidden class=anchor aria-hidden=true href=#to-value-object-or-not-to-value-object>#</a></h2><p>Mam nadzieję, że po przeczytaniu artykułu również tak jak ja, uważasz, że obiekty wartości są bardzo przydatne w modelowaniu Domeny. Rozwiązują one wiele problemów, przy czym są bardzo łatwe w implementacji oraz utrzymaniu. Dodatkowo w ściśle określonym kontekście każdy ekspert domenowy oraz programista dokładnie wie co oznacza przedstawiana wartość i jakie mamy wobec nich oczekiwania.</p><p>Daj znać w komentarzach co sądzisz o Value Object’ach. Jeżeli masz jakieś ciekawe doświadczenia z obiektami wartości, z chęcią wymienię się doświadczeniem w komentarzach.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://g-stawarczyk.github.io/tags/architektura/>architektura</a></li><li><a href=https://g-stawarczyk.github.io/tags/ddd/>DDD</a></li><li><a href=https://g-stawarczyk.github.io/tags/value-object/>value object</a></li><li><a href=https://g-stawarczyk.github.io/tags/doctrine/>Doctrine</a></li></ul><nav class=paginav><a class=prev href=https://g-stawarczyk.github.io/2020/12/persystencja-value-object-w-php/><span class=title>« Poprzednia strona</span><br><span>Persystencja Value Object w PHP</span></a>
<a class=next href=https://g-stawarczyk.github.io/2020/07/ddd-domain-driven-design/><span class=title>Następna strona »</span><br><span>DDD – Domain Driven Design</span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Value Object – Podstawowy element Domain Driven Design on twitter" href="https://twitter.com/intent/tweet/?text=Value%20Object%20%e2%80%93%20Podstawowy%20element%20Domain%20Driven%20Design&url=https%3a%2f%2fg-stawarczyk.github.io%2f2020%2f09%2fvalue-object-podstawowy-element-domain-driven-design%2f&hashtags=architektura%2cDDD%2cvalueobject%2cDoctrine"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Value Object – Podstawowy element Domain Driven Design on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fg-stawarczyk.github.io%2f2020%2f09%2fvalue-object-podstawowy-element-domain-driven-design%2f&title=Value%20Object%20%e2%80%93%20Podstawowy%20element%20Domain%20Driven%20Design&summary=Value%20Object%20%e2%80%93%20Podstawowy%20element%20Domain%20Driven%20Design&source=https%3a%2f%2fg-stawarczyk.github.io%2f2020%2f09%2fvalue-object-podstawowy-element-domain-driven-design%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Value Object – Podstawowy element Domain Driven Design on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fg-stawarczyk.github.io%2f2020%2f09%2fvalue-object-podstawowy-element-domain-driven-design%2f&title=Value%20Object%20%e2%80%93%20Podstawowy%20element%20Domain%20Driven%20Design"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Value Object – Podstawowy element Domain Driven Design on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fg-stawarczyk.github.io%2f2020%2f09%2fvalue-object-podstawowy-element-domain-driven-design%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Value Object – Podstawowy element Domain Driven Design on whatsapp" href="https://api.whatsapp.com/send?text=Value%20Object%20%e2%80%93%20Podstawowy%20element%20Domain%20Driven%20Design%20-%20https%3a%2f%2fg-stawarczyk.github.io%2f2020%2f09%2fvalue-object-podstawowy-element-domain-driven-design%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Value Object – Podstawowy element Domain Driven Design on telegram" href="https://telegram.me/share/url?text=Value%20Object%20%e2%80%93%20Podstawowy%20element%20Domain%20Driven%20Design&url=https%3a%2f%2fg-stawarczyk.github.io%2f2020%2f09%2fvalue-object-podstawowy-element-domain-driven-design%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://g-stawarczyk.github.io>Grzegorz Stawarczyk - Blog poświęcony zagadnieniom programistycznym</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>